<% if @members.present? %>
  <div class="row my-4">
    <table class="table table-bordered text-center" style="border-color: black; border: 1px solid black; width: 100%;">
      <thead>
        <tr style="background-color: #c6e2ff;">
          <th class="col-1" style="border: 1px solid black; font-size: 13px;">名前</th>
          <th class="col-1" style="border: 1px solid black; font-size: 13px;">自己紹介</th>
          <th class="col-1" style="border: 1px solid black; font-size: 13px;">投稿数</th>
          <th class="col-1" style="border: 1px solid black; font-size: 13px;">フォロー数</th>
          <th class="col-1" style="border: 1px solid black; font-size: 13px;">フォロワー数</th>
          <th class="col-1" style="border: 1px solid black; font-size: 13px;">ステータス</th>
        </tr>
      </thead>
      
      <tbody>
        <% if @members.present? %> 
          <% @members.each do |member| %>
            <tr>
              <td class="col-1" style="border: 1px solid black; text-align: center; vertical-align: middle;">
                <%= link_to admin_member_path(member) do %>
                  <%= member.name %><br>
                  <%= image_tag member.get_profile_image(400, 400), class: "rounded-circle border border-primary shadow", style: "width: 100px; height: 100px; border: 3px solid #000;" %>
                <% end %>
                <div class="my-2">
                  <%= link_to "会員編集", edit_admin_member_path(member), class: "btn btn-outline-secondary" %>
                </div>
              </td>
              <td class="col-5" style="border: 1px solid black; vertical-align: middle;"><%= member.introduction %></td>
              <td class="col-1" style="border: 1px solid black; vertical-align: middle;">
                <%= link_to admin_member_path(member) do %>
                  <!--公開投稿数のみ-->
                  <%= member.posts.where(post_status: 'published').count %>
                <% end %>
              </td>
              <td class="col-1" style="border: 1px solid black; vertical-align: middle;"><%= member.followings.count %></td>
              <td class="col-1" style="border: 1px solid black; vertical-align: middle;"><%= member.followers.count %></td>
              <td class="col-1" style="border: 1px solid black; vertical-align: middle;">
                <% if member.is_active == true %>
                  <p class="text-success font-weight-bold">有効</p>
                <% else %>
                  <p class="text-danger font-weight-bold">退会</p>
                <% end %>
              </td>
            </tr>
          <% end %>
        <% end %>
      </tbody>
    </table>
  </div>
<% end %>