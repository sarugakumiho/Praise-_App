<div class="container d-flex flex-column align-items-center mb-5">

  <h3 class="d-flex justify-content-center mb-4">
    <i class="fa-solid fa-user-pen"></i>&nbsp;<strong>登録リスト編集</strong>
  </h3>

  <% if @post.errors.any? %>
    <div class="d-flex align-items-center">
      <i class="fa-solid fa-triangle-exclamation"></i>
      <span style="font-size: 1.25rem; margin-left: 10px;">
        <%= @post.errors.count %>件のエラーにより保存できませんでした
      </span>
    </div>
    <p style="font-size: 1.25rem;">内容を確認し、入力して下さい&nbsp;<i class="fa-solid fa-person-praying"></i></p>
    <ul class="mb-4" style="font-size: 1.25rem;">
      <% @post.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  <% end %>
  
  <%= form_with url: post_path, model: @post, method: :patch do |f| %>
    <div class="card" style="width: 30rem; height: 56rem; border: 2px solid darkslategray; padding: 20px;">
      <div class="form-group">
        <p><strong>タスク名</strong></p>
        <%= f.text_field :title, class: "form-control title", placeholder: "入力してください", style: "width: 100%; box-sizing: border-box;" %>
      </div>
      <div class="form-group">
        <div style="display: flex; justify-content: flex-start; align-items: center;">
          <div style="margin-right: 70px;">
            <p><strong>期限（開始日）</strong></p>
            <%= f.date_field :start_on, class: "form-control", style: "width: 100%" %>
          </div>
          <div>
            <p><strong>期限（終了日）</strong></p>
            <%= f.date_field :end_on, class: "form-control", style: "width: 100%" %>
          </div>
        </div>
      </div>
      <div class="form-group" style="margin-top: 30px;  margin-bottom: 30px;">
        <%= f.file_field :image, accept: "image/*", class: "w-100" %>
      </div>
      <div class="form-group">
        <%= f.text_area :memo, class: "form-control", rows: "10", placeholder: "メモ・コメント" %>
      </div>
      <div class="form-group" style="display: flex; align-items: center;">
        <div style="margin-right: 0px;">
          <span><strong>タグ</strong></span><br>
          <span style="font-size: 12px;">※半角スペースを入力することで複数のタグを付けることができます。</span>
          <%= f.text_field :tag_name, value: @tag_list, class:"form-control", style: "width: 210px; display: inline-block;" %>
         <%= f.submit style: "display: inline-block;" %>
        </div>
      </div>
      <div class="form-group" style="margin-top: 30px;">
        <span><strong>状況</strong></span>
        <div style="display: flex; align-items: center;">
          <div style="margin-right: 25px;">
            <%= f.radio_button :situation_status, '0', id: 'situation_status_from_now', checked: true %>
            <label for="situation_status_from_now">これから!</label>
          </div>
          <div>
            <%= f.radio_button :situation_status, '1', id: 'situation_status_accomplished' %>
            <label for="situation_status_accomplished">達成済み!</label>
          </div>
        </div>
      </div>
      <div class="form-group" style="margin-top: 10px; margin-bottom: 10px;">
        <span><strong>公開設定</strong></span>
        <div style="display: flex; align-items: center;">
          <div>
            <div style="display: inline-block;">
              <%= f.radio_button :post_status, '0', id: 'post_status_unpublished', checked: true %> 非公開
            </div>
            <div style="display: inline-block;">
              <label for="status_unpublished" style="font-size: 15px;">やることリストへ登録</label>
            </div>
          </div>
          <div>
            <div style="display: inline-block;">
              <%= f.radio_button :post_status, '1', id: 'post_status_published' %> 公開
            </div>
            <div style="display: inline-block;">
              <label for="post_status_published" style="font-size: 15px;">やること・達成したことを共有</label>
            </div>
          </div>
        </div>
      </div>
    </div>
  
    <div class="row">
      <div class="d-flex align-items-center mt-4">
        <div class="form-group my-3 mr-5">
          <%= link_to "戻る", posts_path, class: "btn btn-outline-secondary", style: "width: 200px; height: 40px; line-height: 30px;" %>
        </div>
        <div class="form-group mt-3">
          <%= f.submit "編集完了", class: "btn btn-outline-primary", style: "width: 200px; height: 40px;" %>
        </div>
      </div>
    </div>
  <% end %>
    
</div>